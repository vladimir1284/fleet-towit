{"version":3,"file":"singletons.LsHtuZJq.js","sources":["../../../../../../node_modules/.pnpm/@sveltejs+kit@2.0.6_@sveltejs+vite-plugin-svelte@3.0.1_svelte@4.2.8_vite@5.0.10/node_modules/@sveltejs/kit/src/runtime/client/constants.js","../../../../../../node_modules/.pnpm/@sveltejs+kit@2.0.6_@sveltejs+vite-plugin-svelte@3.0.1_svelte@4.2.8_vite@5.0.10/node_modules/@sveltejs/kit/src/runtime/client/utils.js","../../../../../../node_modules/.pnpm/@sveltejs+kit@2.0.6_@sveltejs+vite-plugin-svelte@3.0.1_svelte@4.2.8_vite@5.0.10/node_modules/@sveltejs/kit/src/runtime/client/singletons.js"],"sourcesContent":["export const SNAPSHOT_KEY = 'sveltekit:snapshot';\nexport const SCROLL_KEY = 'sveltekit:scroll';\nexport const STATES_KEY = 'sveltekit:states';\nexport const PAGE_URL_KEY = 'sveltekit:pageurl';\n\nexport const HISTORY_INDEX = 'sveltekit:history';\nexport const NAVIGATION_INDEX = 'sveltekit:navigation';\n\nexport const PRELOAD_PRIORITIES = /** @type {const} */ ({\n\ttap: 1,\n\thover: 2,\n\tviewport: 3,\n\teager: 4,\n\toff: -1,\n\tfalse: -1\n});\n","import { BROWSER, DEV } from 'esm-env';\nimport { writable } from 'svelte/store';\nimport { assets } from '__sveltekit/paths';\nimport { version } from '__sveltekit/environment';\nimport { PRELOAD_PRIORITIES } from './constants.js';\n\n/* global __SVELTEKIT_APP_VERSION_FILE__, __SVELTEKIT_APP_VERSION_POLL_INTERVAL__ */\n\nexport const origin = BROWSER ? location.origin : '';\n\n/** @param {string | URL} url */\nexport function resolve_url(url) {\n\tif (url instanceof URL) return url;\n\n\tlet baseURI = document.baseURI;\n\n\tif (!baseURI) {\n\t\tconst baseTags = document.getElementsByTagName('base');\n\t\tbaseURI = baseTags.length ? baseTags[0].href : document.URL;\n\t}\n\n\treturn new URL(url, baseURI);\n}\n\nexport function scroll_state() {\n\treturn {\n\t\tx: pageXOffset,\n\t\ty: pageYOffset\n\t};\n}\n\nconst warned = new WeakSet();\n\n/** @typedef {keyof typeof valid_link_options} LinkOptionName */\n\nconst valid_link_options = /** @type {const} */ ({\n\t'preload-code': ['', 'off', 'false', 'tap', 'hover', 'viewport', 'eager'],\n\t'preload-data': ['', 'off', 'false', 'tap', 'hover'],\n\tkeepfocus: ['', 'true', 'off', 'false'],\n\tnoscroll: ['', 'true', 'off', 'false'],\n\treload: ['', 'true', 'off', 'false'],\n\treplacestate: ['', 'true', 'off', 'false']\n});\n\n/**\n * @template {LinkOptionName} T\n * @typedef {typeof valid_link_options[T][number]} ValidLinkOptions\n */\n\n/**\n * @template {LinkOptionName} T\n * @param {Element} element\n * @param {T} name\n */\nfunction link_option(element, name) {\n\tconst value = /** @type {ValidLinkOptions<T> | null} */ (\n\t\telement.getAttribute(`data-sveltekit-${name}`)\n\t);\n\n\tif (DEV) {\n\t\tvalidate_link_option(element, name, value);\n\t}\n\n\treturn value;\n}\n\n/**\n * @template {LinkOptionName} T\n * @template {ValidLinkOptions<T> | null} U\n * @param {Element} element\n * @param {T} name\n * @param {U} value\n */\nfunction validate_link_option(element, name, value) {\n\tif (value === null) return;\n\n\t// @ts-expect-error - includes is dumb\n\tif (!warned.has(element) && !valid_link_options[name].includes(value)) {\n\t\tconsole.error(\n\t\t\t`Unexpected value for ${name} â€” should be one of ${valid_link_options[name]\n\t\t\t\t.map((option) => JSON.stringify(option))\n\t\t\t\t.join(', ')}`,\n\t\t\telement\n\t\t);\n\n\t\twarned.add(element);\n\t}\n}\n\nconst levels = {\n\t...PRELOAD_PRIORITIES,\n\t'': PRELOAD_PRIORITIES.hover\n};\n\n/**\n * @param {Element} element\n * @returns {Element | null}\n */\nfunction parent_element(element) {\n\tlet parent = element.assignedSlot ?? element.parentNode;\n\n\t// @ts-expect-error handle shadow roots\n\tif (parent?.nodeType === 11) parent = parent.host;\n\n\treturn /** @type {Element} */ (parent);\n}\n\n/**\n * @param {Element} element\n * @param {Element} target\n */\nexport function find_anchor(element, target) {\n\twhile (element && element !== target) {\n\t\tif (element.nodeName.toUpperCase() === 'A' && element.hasAttribute('href')) {\n\t\t\treturn /** @type {HTMLAnchorElement | SVGAElement} */ (element);\n\t\t}\n\n\t\telement = /** @type {Element} */ (parent_element(element));\n\t}\n}\n\n/**\n * @param {HTMLAnchorElement | SVGAElement} a\n * @param {string} base\n */\nexport function get_link_info(a, base) {\n\t/** @type {URL | undefined} */\n\tlet url;\n\n\ttry {\n\t\turl = new URL(a instanceof SVGAElement ? a.href.baseVal : a.href, document.baseURI);\n\t} catch {}\n\n\tconst target = a instanceof SVGAElement ? a.target.baseVal : a.target;\n\n\tconst external =\n\t\t!url ||\n\t\t!!target ||\n\t\tis_external_url(url, base) ||\n\t\t(a.getAttribute('rel') || '').split(/\\s+/).includes('external');\n\n\tconst download = url?.origin === origin && a.hasAttribute('download');\n\n\treturn { url, external, target, download };\n}\n\n/**\n * @param {HTMLFormElement | HTMLAnchorElement | SVGAElement} element\n */\nexport function get_router_options(element) {\n\t/** @type {ValidLinkOptions<'keepfocus'> | null} */\n\tlet keepfocus = null;\n\n\t/** @type {ValidLinkOptions<'noscroll'> | null} */\n\tlet noscroll = null;\n\n\t/** @type {ValidLinkOptions<'preload-code'> | null} */\n\tlet preload_code = null;\n\n\t/** @type {ValidLinkOptions<'preload-data'> | null} */\n\tlet preload_data = null;\n\n\t/** @type {ValidLinkOptions<'reload'> | null} */\n\tlet reload = null;\n\n\t/** @type {ValidLinkOptions<'replacestate'> | null} */\n\tlet replace_state = null;\n\n\t/** @type {Element} */\n\tlet el = element;\n\n\twhile (el && el !== document.documentElement) {\n\t\tif (preload_code === null) preload_code = link_option(el, 'preload-code');\n\t\tif (preload_data === null) preload_data = link_option(el, 'preload-data');\n\t\tif (keepfocus === null) keepfocus = link_option(el, 'keepfocus');\n\t\tif (noscroll === null) noscroll = link_option(el, 'noscroll');\n\t\tif (reload === null) reload = link_option(el, 'reload');\n\t\tif (replace_state === null) replace_state = link_option(el, 'replacestate');\n\n\t\tel = /** @type {Element} */ (parent_element(el));\n\t}\n\n\t/** @param {string | null} value */\n\tfunction get_option_state(value) {\n\t\tswitch (value) {\n\t\t\tcase '':\n\t\t\tcase 'true':\n\t\t\t\treturn true;\n\t\t\tcase 'off':\n\t\t\tcase 'false':\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\treturn undefined;\n\t\t}\n\t}\n\n\treturn {\n\t\tpreload_code: levels[preload_code ?? 'off'],\n\t\tpreload_data: levels[preload_data ?? 'off'],\n\t\tkeepfocus: get_option_state(keepfocus),\n\t\tnoscroll: get_option_state(noscroll),\n\t\treload: get_option_state(reload),\n\t\treplace_state: get_option_state(replace_state)\n\t};\n}\n\n/** @param {any} value */\nexport function notifiable_store(value) {\n\tconst store = writable(value);\n\tlet ready = true;\n\n\tfunction notify() {\n\t\tready = true;\n\t\tstore.update((val) => val);\n\t}\n\n\t/** @param {any} new_value */\n\tfunction set(new_value) {\n\t\tready = false;\n\t\tstore.set(new_value);\n\t}\n\n\t/** @param {(value: any) => void} run */\n\tfunction subscribe(run) {\n\t\t/** @type {any} */\n\t\tlet old_value;\n\t\treturn store.subscribe((new_value) => {\n\t\t\tif (old_value === undefined || (ready && new_value !== old_value)) {\n\t\t\t\trun((old_value = new_value));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn { notify, set, subscribe };\n}\n\nexport function create_updated_store() {\n\tconst { set, subscribe } = writable(false);\n\n\tif (DEV || !BROWSER) {\n\t\treturn {\n\t\t\tsubscribe,\n\t\t\tcheck: async () => false\n\t\t};\n\t}\n\n\tconst interval = __SVELTEKIT_APP_VERSION_POLL_INTERVAL__;\n\n\t/** @type {NodeJS.Timeout} */\n\tlet timeout;\n\n\t/** @type {() => Promise<boolean>} */\n\tasync function check() {\n\t\tclearTimeout(timeout);\n\n\t\tif (interval) timeout = setTimeout(check, interval);\n\n\t\ttry {\n\t\t\tconst res = await fetch(`${assets}/${__SVELTEKIT_APP_VERSION_FILE__}`, {\n\t\t\t\theaders: {\n\t\t\t\t\tpragma: 'no-cache',\n\t\t\t\t\t'cache-control': 'no-cache'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!res.ok) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst data = await res.json();\n\t\t\tconst updated = data.version !== version;\n\n\t\t\tif (updated) {\n\t\t\t\tset(true);\n\t\t\t\tclearTimeout(timeout);\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (interval) timeout = setTimeout(check, interval);\n\n\treturn {\n\t\tsubscribe,\n\t\tcheck\n\t};\n}\n\n/**\n * @param {URL} url\n * @param {string} base\n */\nexport function is_external_url(url, base) {\n\treturn url.origin !== origin || !url.pathname.startsWith(base);\n}\n","import { writable } from 'svelte/store';\nimport { create_updated_store, notifiable_store } from './utils.js';\nimport { BROWSER } from 'esm-env';\n\n/** @type {import('./types.js').Client} */\nexport let client;\n\n/**\n * @param {{\n *   client: import('./types.js').Client;\n * }} opts\n */\nexport function init(opts) {\n\tclient = opts.client;\n}\n\n/**\n * @template {keyof typeof client} T\n * @param {T} key\n * @returns {typeof client[T]}\n */\nexport function client_method(key) {\n\tif (!BROWSER) {\n\t\tif (\n\t\t\tkey === 'before_navigate' ||\n\t\t\tkey === 'after_navigate' ||\n\t\t\tkey === 'on_navigate' ||\n\t\t\tkey === 'push_state' ||\n\t\t\tkey === 'replace_state'\n\t\t) {\n\t\t\t// @ts-expect-error doesn't recognize that both keys here return void so expects a async function\n\t\t\treturn () => {};\n\t\t} else {\n\t\t\t/** @type {Record<string, string>} */\n\t\t\tconst name_lookup = {\n\t\t\t\tdisable_scroll_handling: 'disableScrollHandling',\n\t\t\t\tpreload_data: 'preloadData',\n\t\t\t\tpreload_code: 'preloadCode',\n\t\t\t\tinvalidate_all: 'invalidateAll'\n\t\t\t};\n\n\t\t\treturn () => {\n\t\t\t\tthrow new Error(`Cannot call ${name_lookup[key] ?? key}(...) on the server`);\n\t\t\t};\n\t\t}\n\t} else {\n\t\t// @ts-expect-error\n\t\treturn (...args) => client[key](...args);\n\t}\n}\n\nexport const stores = {\n\turl: /* @__PURE__ */ notifiable_store({}),\n\tpage: /* @__PURE__ */ notifiable_store({}),\n\tnavigating: /* @__PURE__ */ writable(\n\t\t/** @type {import('@sveltejs/kit').Navigation | null} */ (null)\n\t),\n\tupdated: /* @__PURE__ */ create_updated_store()\n};\n"],"names":["SNAPSHOT_KEY","SCROLL_KEY","STATES_KEY","PAGE_URL_KEY","HISTORY_INDEX","NAVIGATION_INDEX","PRELOAD_PRIORITIES","origin","resolve_url","url","baseURI","baseTags","scroll_state","link_option","element","name","levels","parent_element","parent","find_anchor","target","get_link_info","a","base","external","is_external_url","download","get_router_options","keepfocus","noscroll","preload_code","preload_data","reload","replace_state","el","get_option_state","value","notifiable_store","store","writable","ready","notify","val","set","new_value","subscribe","run","old_value","create_updated_store","timeout","check","res","assets","updated","version","client","init","opts","client_method","key","args","stores"],"mappings":"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"}